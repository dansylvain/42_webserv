################################################################################
##################### WELCOME TO THE MAIN CONFIG OF WEBSEV #####################
################################################################################

##########################    HOW TO USE THE CONFIG     ########################
#				
#	The config file is a `.ini` file extension, which relies on the simple
# 	architecture of 	KEY = VALUE
# 
# 	The `webserv` config is dispatched accross 4 main blocks :
# 	- global
# 	- errorPages
# 	- serverX
# 	- routeX
# 
# 	Each block is indicated by an [].
# 
# 	N.B : `.ini` only supports the hashtag `#` as a supported comment.
# 
################################################################################


#################################### GLOBAL ####################################
# 
# 	Global config will be used accross all servers and route configured.
# 
# 	Those configurations are global, have default values and can be changed.
# 
################################################################################
[global]
# Maximum simultaneous connected clients.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
maxClient			= 1024

# HTTP/1.1 Maximum Header Size.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
maxHeaderSize       = 8192  

# Maximum Body Size.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
maxBodySize         = 7000000  

# Maximum simultaneous servers.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
maxServerNbr        = 8  

# Timeout for CGI (in ms / s ?? )
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
timeoutCgi          = 1000			 

# Folder path to error pages.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
errorPagesPath		= errorPages/	 

# Webserv requests maximum packet size.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
send_buff_size		= 4192			 

# Webserv answers maximum packet size.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
recv_buff_size		= 4192 			

# Enable cookies. 1 is true, any other value is false.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
handleCookies		= 0 			

################################## ERRORPAGES ##################################
# 
# Those are file names to related error pages.
# 
# Those values can be modified or deleted.
# 
# Modified path and/or error pages file names could result in a incorrect
# or missing error page.
# 
################################################################################
[errorPages]

errorPage_201 = 201.html
errorPage_204 = 204.html
errorPage_400 = 400.html
errorPage_401 = 401.html
errorPage_403 = 403.html
errorPage_404 = 404.html
errorPage_405 = 405.html
errorPage_413 = 413.html
errorPage_422 = 422.html
errorPage_431 = 431.html
errorPage_500 = 500.html
errorPage_502 = 502.html
errorPage_503 = 503.html
errorPage_504 = 504.html
errorPage_508 = 508.html

#################################### SERVER ####################################
# 
# Those are server configuration
# 
# Those values can be modified or deleted.
# 
# 
################################################################################
[server1]

# Host IP. 0.0.0.0 = localhost
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
host				= 0.0.0.0

# Port Attribued.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
port				= 1510

# ServerName, acts like an alias before the targeted IP.
#
# List of availables serverNames :
# 			gaming.com
# 			festival.com
# 			villa.com
# 			cgi.ok
# 			cgi.ko
# 			redirection.ok
# 			redirection.ko
# 			root.ok
# 			root.ko
# 			listing.ok
# 			listing.ko
#
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
serverName			= "server1"

# Link a route config to a specified server.
# DEFAULT VALUE IF MISSING :
# DEFAULT VALUE IF ERROR :
allowedRoutes		= route1, route4


[server2]
host				= 0.0.0.0
port				= 1511
serverName			= "server2"
allowedRoutes		= route2, route4

[server3]
host				= 0.0.0.0
port				= 1512
serverName			= "server3"
allowedRoutes		= route3, route4
          
##################### ROUTES #####################

[route_template]
uri = / 
allowedMethods = GET, POST, DELETE
redirection =
root =      /testResponseBuilder/redirectDefaultPath1111
listingDirectory    = 0
index = index1.html 
cgiAllowed = .php, .py
uploadAllowed = 1
uploadDirectory = /uploads

[route1]
uri = /
allowedMethods = GET, POST, DELETE
# redirection =
#root =      /testResponseBuilder/redirectDefaultPath1111
listingDirectory    = 0
index = index1.html 
cgiAllowed = .php, .py
uploadAllowed = 1
uploadDirectory = /uploads

[route2]
uri = /
allowedMethods = GET, POST, DELETE
# redirection =
#root =      /testResponseBuilder/redirectDefaultPath1111
listingDirectory    = 0
index = index2.html 
cgiAllowed = .php, .py 
uploadAllowed = 1
uploadDirectory = /uploads

[route3]
uri = /
allowedMethods = GET, POST, DELETE
# redirection =
#root =      /testResponseBuilder/redirectDefaultPath1111
listingDirectory    = 0
index = index3.html 
cgiAllowed = .php, .py
uploadAllowed = 1
uploadDirectory = /uploads

[route4]
uri = /uploads
allowedMethods = GET, POST, DELETE
# redirection =
#root =      /testResponseBuilder/redirectDefaultPath1111
listingDirectory    = 1
